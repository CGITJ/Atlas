# 故障复盘

### 一、故障信息

>记录故障发生的基础信息。

<style>
table th:first-of-type {
    width: 10%;
}
table th:nth-of-type(2) {
    width: 10%;
}
	table th:nth-of-type(3) {
    width: 10%;
}
	table th:nth-of-type(4) {
    width: 15%;
}
</style>

<table style="font-size:10px;">
	<tr style="height:40px;">
	    <th style="text-align:center;">责任人</th>
		<th style="text-align:center;">事故负责人xxx</th>
	</tr>
<tr style="height:40px;" >
	    <th style="text-align:center;">故障等级</th>
	    <th style="text-align:center;">P0&emsp;P1&emsp;<font class="bg-color-7" style="background-color:#03a9f4">P2</font>&emsp;P3&emsp;P4&emsp;</th>  
	</tr >
<tr style="height:40px;" >
	    <th style="text-align:center;">故障状态</th>
	    <th style="text-align:center;">编写中&emsp;未复盘&emsp;<font class="bg-color-11" style="background-color:#8bc34a">已定级</font>&emsp;</th>  
    </tr >
<tr style="height:40px;" >
	    <th style="text-align:center;">故障简述</th>
	    <th style="text-align:center;">简单描述问题发生的原因，影响范围以及修复结果</th>  
	    </tr >
<tr style="height:40px;" >
	    <th style="text-align:center;">发现方式</th>
	    <th style="text-align:center;">发现方式如：IM监控群报警、邮件报警</th>  
	</tr >
<tr style="height:40px;" >
	    <th style="text-align:center;">故障发生时间</th>
	    <th style="text-align:center;">yyyy-M-dd hh:mm</th>  	
	</tr >	
<tr style="height:40px;" >
	    <th style="text-align:center;">故障恢复时间</th>
	    <th style="text-align:center;">yyyy-M-dd hh:mm&emsp;HH:mm</th>  	
	</tr >		
<tr style="height:40px;" >
	    <th style="text-align:center;">故障影响时长</th>
	    <th style="text-align:center;">服务xx分钟不可用</th>  	
	</tr >			
</table>

### 二、故障影响

>一般是描述故障带来的业务损失、产品、用户体验损失等多维度的影响分析

<table style="font-size:10px;">
	<tr style="height:40px;">
	    <th>影响业务场景</th>
		<th>影响用户数</th>
		<th>影响公司收入</th>
		<th>客诉情况</th>
</tr>
    <tr style="height:40px;">
	    <th><font class="text-color-18" color="#9e9e9e">业务线/业务产品</font></th>
		<th><font class="text-color-171" color="#9e9e9e">影响用户数</font></th>
		<th><font class="text-color-171" color="#9e9e9e">影响公司收入</font></th>
		<th> …… </th>
	</tr >			
</table>

### 三、故障还原
		
>从故障开始、发现、修复、修复完成的详细过程，方便发现故障和处理故障过程中暴露出的问题，作为后续改进的依据

* yyyy-M-dd hh:mm 故障因xx开始

* yyyy-M-dd hh:mm 运营张三发现故障 （或收到监控报警）

* yyyy-M-dd hh:mm 张三把问题反馈给开发李四

* yyyy-M-dd hh:mm 李四验证发现问题确实存在，企业微信拉群，并通知上级领导报备故障

* yyyy-M-dd hh:mm 李四通过代码、监控日志找到问题所在，确认影响范围及故障发生时间点

* yyyy-M-dd hh:mm 李四定位问题后，通知上级领导及运营张三准备做回滚，预计XX时间完成

* yyyy-M-dd hh:mm 李四确认问题已修复，群内同步

* yyyy-M-dd hh:mm 张三确认问题已修复，故障处理已结束

* 故障从XXX-XXX持续时长：XX小时XX分

### 四、故障原因

>分析总结故障发生的原因

1. 故障发生前导致故障的原因
为什么出现这个线上Bug，为什么在开发自测、QA测试、产品验收的过程中没发现？
没有发现是因为没有自测，还是因为测试用例执行不充分？

2. 故障发生后运营上报的原因
上线流程是否合理，监控是不是没覆盖？

### 五、故障总结

>总结故障发生暴露的问题，确定最终的责任认定，理清故障产生各相关者的权责关系，方便后期跟进改进

* 是否存在功能降级

* 是否有容灾备份

* 是否完整记录日志信息


### 六、改进计划

>根据故障复盘发现的问题，制定出可实施的改进计划，尽可能地减少日后同类型的错误的发生

* 经验总结、知识分享

* 监控覆盖

* 系统或工具设计改造类

* 流程类的、规则/规范类的、机制完善类